define("extensions/mip-form/1.2/mip-form",["require","zepto","customElement"],function(t){function e(){function t(t,e){if("must"==t)return""==e?!1:!0;var i=c[t];return i.test(e)}function e(){var t=i(this).find('input[type|="password"]').length>0?!1:!0,e=i(this).find('input[type|="file"]').length?!1:!0;return t&&e?!0:(console.log("禁止使用password与file输入框"),!1)}function n(){var t=this.getAttribute("url"),e=this.getAttribute("method"),n=i("<form action="+t+" method="+e+" target='_blank'></form>");n.append(i(this).html()),i(this).html(n),r.call(this)}function r(){i(this).find("form").on("submit",function(e){var n=i(this).find("#mip-form-cross");n.css("display","none");var r=this,o=i(this).find("input"),s=0;o.map(function(e,n){if("submit"!=i(n).attr("type")){var o=n.getAttribute("validatetarget"),a=n.getAttribute("validatetype"),p=n.value,l=n.getAttribute("validatereg");if(a){if(l)var u=new RegExp(l),c=""==p?!1:u.test(p);else var c=t(a,p);c?i(r).find("div[target="+o+"]").css("display","none"):(i(r).find("div[target="+o+"]").css("display","block"),s+=1)}}}),0!==s&&e.preventDefault()})}var o=this.element;if(!o.isRender){o.isRender=!0;var s=e.call(o);s&&n.call(o);var a=o.getAttribute("clear");if(a){const p=o.querySelectorAll("input[type=input]");var l=0,u=document.createElement("div");for(u.id="mip-form-cross",l=0;l<p.length;l++)p[l].onfocus=function(){var t=this;u.setAttribute("name",t.getAttribute("name")),u.style.top=t.offsetTop+"px",t.parentNode.appendChild(u),""!=t.value?u.style.display="block":(u.style.display="none",t.oninput=function(){u.style.display=""!=t.value?"block":"none"})};u.addEventListener("click",function(){var t=this.getAttribute("name");u.parentNode.querySelector('input[name="'+t+'"]').value="",u.style.display="none"})}var c={email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,phone:/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|17[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/,idcar:/^\d{15}|\d{18}$/}}}var i=t("zepto"),n=t("customElement").create();return n.prototype.init=function(){this.build=e},n}),require(["extensions/mip-form/1.2/mip-form"],function(t){MIP.css.mipForm="form{position:relative}input{padding:6px 10% 6px 3%;margin:10px auto;display:block;width:87%}form div{display:none;color:#ec1f5c;font-size:12px}#mip-form-cross{display:block;right:0;position:absolute;top:0;width:34px;height:34px;background:url(//m.baidu.com/static/search/clear.png) no-repeat center;z-index:100;-webkit-background-size:16px;background-size:16px}",MIP.registerMipElement("mip-form",t,MIP.css.mipForm)});